name: CI

on: [push]

jobs:
  output:
    runs-on: windows-latest
    steps:
      - run: |
          write-host "Write-Host Test"
          write-output "Write-Output Test"
          
  buildAndDeploy:
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v1
    - run: |
        mkdir dist
        cd tst/frontend
        npm install
        write-host ">>>before: "
        ls
        npm install -g @angular/cli
        ng build --prod --progress true:  
        write-host ">>>after: "
        ls
        cd ../backend
        dotnet publish -c Release -o ../../dist
        cd ../../dist
        write-host ">>>Artifacts: "
        ls
        pwd
        write-host ">>>Finished!!!"        
        
